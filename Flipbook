<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ale & Louie's Christmas Pawty Planner</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;700&display=swap');

        :root {
            --primary-red: #E74C3C;
            --secondary-green: #2ECC71;
            --background-color: #F8F9F9;
            --paper-color: #FCF3CF;
            --text-color: #333;
            --shadow-light: rgba(0, 0, 0, 0.1);
            --shadow-dark: rgba(0, 0, 0, 0.3);
        }

        body {
            font-family: 'Fredoka', cursive;
            background-color: var(--background-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
            padding: 20px;
        }

        .book-container {
            position: relative;
            width: 800px;
            height: 500px;
            perspective: 1500px;
        }

        .book {
            width: 100%;
            height: 100%;
            position: absolute;
            transform-style: preserve-3d;
        }

        .page {
            position: absolute;
            width: 50%; /* Each page is half the book width */
            height: 100%;
            transform-origin: left;
            transition: transform 1.2s ease-in-out;
            border-radius: 5px;
            box-shadow: 10px 10px 20px var(--shadow-dark);
            background-color: var(--paper-color);
            padding: 20px;
            box-sizing: border-box;
            backface-visibility: hidden;
        }

        .left-page {
            left: 0;
            border-right: 2px solid var(--primary-red);
            z-index: 1;
        }

        .right-page {
            left: 50%;
            border-left: 2px solid var(--primary-red);
            z-index: 2;
        }

        /* Flipping animation classes */
        .flipping-forward-left {
            transform: rotateY(-180deg);
            z-index: 100;
        }

        .flipping-forward-right {
            z-index: 100;
            transform: rotateY(-180deg);
        }

        .flipping-backward-left {
            transform: rotateY(0deg);
            z-index: 100;
        }

        .flipping-backward-right {
            z-index: 100;
            transform: rotateY(0deg);
        }

        /* Content Styling */
        .content {
            display: flex;
            flex-direction: column;
            height: 100%;
            overflow-y: auto;
        }

        .header-title {
            color: var(--primary-red);
            text-align: center;
            font-size: 2.2em;
            margin-bottom: 10px;
            border-bottom: 3px dashed var(--secondary-green);
            padding-bottom: 5px;
        }

        .subheader {
            color: var(--secondary-green);
            font-size: 1.5em;
            margin-top: 10px;
            margin-bottom: 5px;
        }

        .text-content p {
            font-size: 1.1em;
            line-height: 1.4;
            color: var(--text-color);
            margin-bottom: 15px;
        }

        .game-list, .step-list {
            list-style: none;
            padding-left: 0;
        }

        .game-list li, .step-list li {
            background: var(--primary-red);
            color: white;
            padding: 8px 15px;
            margin: 8px 0;
            border-radius: 20px;
            box-shadow: 2px 2px 5px var(--shadow-light);
            font-weight: bold;
        }

        .step-list li {
            background: var(--secondary-green);
            font-size: 0.9em;
        }

        .image-placeholder {
            min-height: 150px;
            background-color: #F9EBEA;
            border: 2px dashed var(--primary-red);
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.9em;
            color: var(--primary-red);
            text-align: center;
            margin-top: 10px;
            flex-shrink: 0;
        }

        /* Navigation Buttons */
        .navigation-controls {
            position: absolute;
            width: 100%;
            display: flex;
            justify-content: space-between;
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none; /* Allows clicks to pass through to buttons */
        }

        .nav-button {
            background-color: var(--secondary-green);
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 1.2em;
            border-radius: 50px;
            box-shadow: 5px 5px 10px var(--shadow-dark);
            transition: background-color 0.3s;
            pointer-events: all; /* Make buttons clickable */
            z-index: 200;
        }

        .nav-button:hover {
            background-color: #27AE60;
        }

        #prevPage {
            margin-left: -50px;
        }

        #nextPage {
            margin-right: -50px;
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>

    <div class="book-container">
        <div class="book">
            <div id="leftPage" class="page left-page"></div>
            <div id="rightPage" class="page right-page"></div>
        </div>

        <div class="navigation-controls">
            <button id="prevPage" class="nav-button">← Back</button>
            <button id="nextPage" class="nav-button">Next →</button>
        </div>
    </div>

    <script>
        const leftPage = document.getElementById('leftPage');
        const rightPage = document.getElementById('rightPage');
        const prevButton = document.getElementById('prevPage');
        const nextButton = document.getElementById('nextPage');

        let currentPageIndex = 0; // Index of the content being displayed on the LEFT page

        // Data for the entire storybook (each object is one spread/two pages)
        const pagesData = [
            // Spread 1: Title & Welcome
            {
                left: {
                    title: "Ale & Louie’s Colombian Christmas!",
                    content: `
                        <p>¡Feliz Navidad, Ale! This is your official, super-fun, step-by-step Christmas Pawty Planner, starring you, your best friend Louie (the Corgi), and lots of Colombian cheer, chocolate, and coffee!</p>
                        <p>Since you’re in your 20s, this guide is packed with adult-friendly fun, games for the family, and places to explore. Let's make this Nochebuena the best one yet!</p>
                        <div class="image-placeholder">Cartoon ID: 526239100588647000 (Ale and Louie in front of a colorful Colombian Christmas tree)</div>
                    `
                },
                right: {
                    title: "Part 1: The Ultimate Game Night",
                    content: `
                        <p>No Colombian Christmas is complete without family, friends, and fierce competition! Get the coffee brewing and the 'natilla' ready, because it's game time!</p>
                        <h2 class="subheader">Ale’s Favorite Christmas Games</h2>
                        <ul class="game-list">
                            <li>**'Adivina el Aguinaldo'** (Guess the Gift): Blindfolded guessing game!</li>
                            <li>**Colombian Karaoke Challenge:** Sing along to classic vallenato or cumbia carols.</li>
                            <li>**Louie’s Hidden Treat:** A quick, fun hide-and-seek game just for Louie!</li>
                            <li>**Cocoa & Coffee Tasting Contest:** Blindfolded tasting of different Colombian brews and chocolates.</li>
                        </ul>
                    `
                }
            },
            // Spread 2: Louie's Activities & Games Deep Dive
            {
                left: {
                    title: "Louie’s Festive Fun Time!",
                    content: `
                        <p>Louie isn't just a mascot; he's part of the fiesta! Here’s a detailed, step-by-step plan for your favorite Corgi to join the Christmas fun.</p>
                        <h2 class="subheader">Activity: Louie’s Festive Photo Shoot!</h2>
                        <ol class="step-list">
                            <li>**Step 1 (The Prop Hunt):** Gather colorful beads, a mini ruana (shawl), and any holiday bandanas for Louie.</li>
                            <li>**Step 2 (Coffee Break Prep):** Reward Louie with a small dog biscuit while you enjoy your favorite Colombian brew and dark chocolate square.</li>
                            <li>**Step 3 (The Posing):** Place Louie gently by the 'Pesebre' (nativity scene) or under the Christmas lights. Get low for the best angle!</li>
                            <li>**Step 4 (The Zoomies):** Let Louie run around the house for a minute to get the wiggles out, then try for one final, perfect, happy picture!</li>
                        </ol>
                    `
                },
                right: {
                    title: "Game Spotlight: The Cocoa & Coffee Taste-Off!",
                    content: `
                        <p>A game designed for an adult who loves the finest Colombian flavors! Get everyone together for this delicious challenge.</p>
                        <h2 class="subheader">How to Play (Step-by-Step)</h2>
                        <ol class="step-list">
                            <li>**Step 1: The Brew:** Prepare three different types of Colombian coffee and three different percentages of Colombian chocolate (e.g., 60%, 75%, 85%).</li>
                            <li>**Step 2: Blindfold Time:** Blindfold the competitors (or just use numbered cups/squares).</li>
                            <li>**Step 3: Taste Test:** Competitors try to identify the region of the coffee or the percentage of the chocolate.</li>
                            <li>**Step 4: The Prize:** The person with the most correct guesses wins a bag of Ale’s favorite specialty coffee beans!</li>
                        </ol>
                        <div class="image-placeholder">Cartoon ID: 887654321908765432 (Ale smiling while sipping coffee, Louie trying to grab a chocolate bar)</div>
                    `
                }
            },
            // Spread 3: Places to Visit & Final Cheers
            {
                left: {
                    title: "Part 2: 5 Must-Visit Colombian Christmas Spots",
                    content: `
                        <p>Christmas isn't just indoors! Grab Louie and explore the festive magic of Colombia's cities and towns during the holiday season.</p>
                        <h2 class="subheader">Ale's Festive Travel List:</h2>
                        <ul class="game-list">
                            <li>**Alumbrados de Medellín (Lights):** Walk through the massive, glittering light displays.</li>
                            <li>**Plaza de Bolívar, Bogotá:** See the giant Christmas tree and the bustling markets.</li>
                            <li>**Villa de Leyva:** Visit during 'Festival de Luces' (Festival of Lights).</li>
                            <li>**A Coffee Farm near the Eje Cafetero:** A cozy break with the best hot chocolate.</li>
                            <li>**A Local Panadería:** Go early for fresh 'Buñuelos' and 'Natilla'!</li>
                        </ul>
                    `
                },
                right: {
                    title: "¡Feliz Navidad, Ale!",
                    content: `
                        <p>From playing 'Cocoa & Coffee Taste-Off' with your friends to finding the best spot for Buñuelos with Louie, your Christmas is set to be energetic, delicious, and full of Colombian heart.</p>
                        <p>May your holidays be filled with joy, great coffee, and lots of cuddles from Louie!</p>
                        <h2 class="subheader" style="text-align: center;">¡Que lo disfrutes mucho!</h2>
                        <div class="image-placeholder">Cartoon ID: 998877665544332211 (Ale and Louie waving goodbye with festive decorations)</div>
                    `
                }
            }
        ];

        function renderPage(index) {
            // Calculate the content for the left and right pages based on the spread index
            const spread = pagesData[index];
            if (!spread) {
                // Should not happen if logic is correct, but good safety
                leftPage.innerHTML = '';
                rightPage.innerHTML = '';
                return;
            }

            // Render Left Page
            leftPage.innerHTML = `
                <div class="content">
                    <h1 class="header-title">${spread.left.title}</h1>
                    <div class="text-content">${spread.left.content}</div>
                </div>
            `;

            // Render Right Page (Check if it's the last page)
            if (index * 2 + 1 < pagesData.length * 2) {
                rightPage.innerHTML = `
                    <div class="content">
                        <h1 class="header-title">${spread.right.title}</h1>
                        <div class="text-content">${spread.right.content}</div>
                    </div>
                `;
                rightPage.classList.remove('hidden');
            } else {
                // Hide the right page if it's the very last page and there's no more content
                rightPage.innerHTML = '';
                rightPage.classList.add('hidden');
            }

            // Update button visibility
            prevButton.disabled = index === 0;
            prevButton.classList.toggle('hidden', index === 0);

            // Hide the next button on the final spread
            nextButton.disabled = index === pagesData.length - 1;
            nextButton.classList.toggle('hidden', index === pagesData.length - 1);
        }

        function flipPage(direction) {
            const currentLeft = leftPage.classList;
            const currentRight = rightPage.classList;

            if (direction === 'next') {
                if (currentPageIndex < pagesData.length - 1) {
                    // Start flip animation
                    currentLeft.add('flipping-forward-left');
                    currentRight.add('flipping-forward-right');

                    setTimeout(() => {
                        // Update content after flip animation is conceptually finished
                        currentPageIndex++;
                        renderPage(currentPageIndex);

                        // Remove flip animation classes
                        currentLeft.remove('flipping-forward-left');
                        currentRight.remove('flipping-forward-right');
                    }, 600); // Half the transition duration (1.2s)
                }
            } else if (direction === 'prev') {
                if (currentPageIndex > 0) {
                    // Start flip animation
                    // Note: When flipping back, we immediately load the previous page's content, 
                    // and then animate the current pages back to their open (unflipped) state.
                    currentPageIndex--;
                    renderPage(currentPageIndex);

                    currentLeft.add('flipping-backward-left');
                    currentRight.add('flipping-backward-right');

                    // Set initial state for the backward flip to look right
                    leftPage.style.transform = 'rotateY(-180deg)';
                    rightPage.style.transform = 'rotateY(-180deg)';

                    setTimeout(() => {
                        // Remove the animated classes and reset transform after animation
                        currentLeft.remove('flipping-backward-left');
                        currentRight.remove('flipping-backward-right');
                        leftPage.style.transform = '';
                        rightPage.style.transform = '';
                    }, 600);
                }
            }
        }

        prevButton.addEventListener('click', () => flipPage('prev'));
        nextButton.addEventListener('click', () => flipPage('next'));

        // Initial rendering
        renderPage(currentPageIndex);
    </script>
</body>
</html>
